export class Carousel{constructor(){this.attCurrentSlide="data-current-slide",this.attPrevious='[data-id="previous"]',this.attNext='[data-id="next"]',this.cssCarouselList="carousel__list",this.cssCarouselListItem="carousel__item",this.cssCarouselController="carousel__controller",this.cssButton="carousel__controller-button",this.cssButtonActive=`${this.cssButton}--active`,this.cssDisplay="hide",this.cssTransition=".7s",this.elCarousel=document.querySelectorAll(".carousel"),this.counterCurrent=0,this.transition=5,this.isAutoplay=!0,this.interval=1e3,this.buildNavigationControllerClick=this.buildNavigationControllerClick.bind(this)}animate(t){const e="arrow"===t.from?t.target.parentNode.querySelector(`.${this.cssCarouselList}`):t.target.parentNode.parentNode.querySelector(`.${this.cssCarouselList}`),i=e.parentNode.getAttribute("data-style"),s=Number(e.querySelector(`.${this.cssCarouselListItem}`).offsetWidth),r=t.currentSlide,o=Number(r*s);"fade"!==i?this.animateSlide({elCarouselList:e,currentPosition:o}):this.animateFade({elCarouselList:e,currentPosition:o,currentSlide:r})}animateFade(t){const e=t.elCarouselList.querySelectorAll(`.${this.cssCarouselListItem}`),i=e[t.currentSlide];e.forEach(t=>{t.style.opacity=0,t.style.transition=this.cssTransition}),i.style.opacity=1,i.style.left=`-${t.currentPosition}px`,i.style.transition=this.cssTransition}animateSlide(t){t.elCarouselList.style.transform=`translateX(-${t.currentPosition}px)`}buildAutoplay(){this.isAutoplay&&(this.interval=setInterval(this.verifyInterval,this.interval),this.isAutoplay=!1)}buildLayout(){this.elCarousel.forEach(t=>{const e=t.querySelectorAll(`.${this.cssCarouselList} .${this.cssCarouselListItem}`).length,i=t.getAttribute("data-autoplay"),s=t.getAttribute(this.attCurrentSlide);"true"===i&&this.buildAutoplay(),this.resize(t),this.buildController(t,e),this.defineActive(t.querySelector(`[data-id="${s}"]`)),1===e&&(t.querySelector(this.attPrevious).classList.add(this.cssDisplay),t.querySelector(this.attNext).classList.add(this.cssDisplay),t.querySelector(`.${this.cssCarouselController}`).classList.add(this.cssDisplay))})}buildController(t,e){const i=`button button--small button--small--proportional ${this.cssButton}`,s=t.querySelector(`.${this.cssCarouselController}`);let r="";for(let t=0;t<e;t++)r+=`<button type="button"  class="${i}" data-id="${t}" aria-hidden="true"></button>`;s.innerHTML=r}buildNavigation(){this.elCarousel.forEach(t=>{this.buildNavigationController(t),this.buildNavigationLeft(t),this.buildNavigationRight(t)})}buildNavigationController(t){t.querySelectorAll(`.${this.cssButton}`).forEach(t=>{helper.addClick(t,this.buildNavigationControllerClick)})}buildNavigationControllerClick(t){const e=t.target,i=t.target.getAttribute("data-id");e.parentNode.parentNode.setAttribute(this.attCurrentSlide,i),this.defineActive(e),this.animate({currentSlide:e.getAttribute("data-id"),target:e,from:"navigation"})}buildNavigationArrow(t){t.button.onclick=(()=>{const e=t.button.parentNode.parentNode,i=e.querySelector(`.${this.cssCarouselList}`),s=Number(i.querySelectorAll(`.${this.cssCarouselListItem}`).length),r=Number(e.getAttribute(this.attCurrentSlide));let o=0;o="previous"===t.side?0===r?s-1:r-1:r===s-1?0:r+1,e.setAttribute(this.attCurrentSlide,o),this.defineActive(e.querySelector(`[data-id="${o}"]`)),this.animate({currentSlide:o,target:i,from:"arrow"})})}buildNavigationLeft(t){const e=t.querySelector(this.attPrevious);this.buildNavigationArrow({button:e,side:"previous"})}buildNavigationRight(t){const e=t.querySelector(this.attNext);this.buildNavigationArrow({button:e,side:"next"})}defineActive(t){t.parentNode.parentNode.querySelectorAll(`.${this.cssButton}`).forEach(t=>{t.classList.remove(this.cssButtonActive)}),t.classList.add(this.cssButtonActive)}init(){this.elCarousel&&(this.buildLayout(),this.buildNavigation(),this.watchResize())}resize(t){const e=t.querySelector(`.${this.cssCarouselList}`),i=e.querySelectorAll(`.${this.cssCarouselListItem}`).length;e.style.width+=`${100*i}%`}verifyInterval(){const t=window.carousel;t.counterCurrent++,t.counterCurrent>=t.transition&&(t.counterCurrent=0,t.elCarousel.forEach(e=>{const i=e.getAttribute("data-autoplay"),s=e.querySelector(t.attNext);"true"===i&&s.click()}))}watchResize(){window.addEventListener("resize",()=>{this.elCarousel.forEach(t=>{this.watchResizeLoop(t)})},!0)}watchResizeLoop(t){const e=t.parentNode.parentNode.parentNode.parentNode,i=e.querySelector(`.${this.cssCarouselList}`);this.defineActive(e.querySelector('[data-id="0"]')),this.animate({currentSlide:0,target:i,from:"arrow"})}};export class Helper{addClass(t,e){if(t&&e)if(e instanceof Array)for(let i in e)t.classList.add(e[i]);else t.classList.add(e)}addClick(t,e){t&&this.addEvent({el:t,action:e,event:"click"})}addEvent(t){const e=t.action,i=t.el,s=t.event;i&&(i.removeEventListener(s,e),i.addEventListener(s,e))}ajax(t){return new Promise((e,i)=>{const s=void 0===t.kind?"POST":t.kind;let r=new XMLHttpRequest;r.open(s,t.controller,!0),r.setRequestHeader("Content-type","application/x-www-form-urlencoded"),r.onload=(()=>{r.status>=200&&r.status<300?e(r.responseText):i(r.statusText)}),r.onerror=(()=>i(r.statusText))})}capitalize(t){return t.charAt(0).toUpperCase()+t.slice(1)}getUrlParameter(t){const e=top.location.search.substring(1).split("&");for(let i=0;i<e.length;i++){let s=e[i].split("=");if(s[0]===t)return s[1]}}getUrlWord(t){return new RegExp("\\b"+t+"\\b","i").test(window.location.href)}offset(t){let e=t.getBoundingClientRect();const i=window.pageXOffset||document.documentElement.scrollLeft,s=window.pageYOffset||document.documentElement.scrollTop;return{top:e.top+s,left:e.left+i}}removeClass(t,e){if(t&&e)if(e instanceof Array)for(let i in e)t.classList.contains(e[i])&&t.classList.remove(e[i]);else t.classList.contains(e)&&t.classList.remove(e)}verifyUrlRoute(t){return window.location.pathname.split("/").indexOf(t)>-1}wrapItem(t,e){const i=document.createElement("div");i.className=e,t.parentNode.insertBefore(i,t),i.appendChild(t)}};export class Layout{constructor(){this.breakPointExtraSmall=0,this.breakPointSmall=576,this.breakPointMedium=768,this.breakPointBig=992,this.breakPointExtraBig=1200,this.breakPointFullHd=1920}};export class LoadingMain{constructor(){this.cssHide="hide",this.cssAnimation="animate",this.elWrapper=document.querySelector(".loading-main"),this.elLoading=this.elWrapper.querySelector(".loading"),this.elBody=document.querySelector("body")}hide(){this.elWrapper.classList.add(this.cssHide),this.elLoading.classList.remove(this.cssAnimation),this.elBody.style.overflow="auto"}};export class MenuToggle{constructor(){this.cssButton="toggle-menu",this.cssOpen="toggle-menu__open",this.isWatch=!1,this.handleClick=this.handleClick.bind(this)}buildMenu(){this.elButton.forEach(t=>{helper.addClick(t,this.handleClick)})}handleClick(t){const e=t.target.nextElementSibling;e.classList.contains(this.cssOpen)?e.classList.remove(this.cssOpen):e.classList.add(this.cssOpen)}init(){this.update(),this.buildMenu(),this.isWatch||(this.isWatch=!0,this.watchResize())}update(){this.elButton=document.querySelectorAll(`.${this.cssButton}`)}reset(){this.init()}watchResize(){window.onresize=(()=>{this.init()})}};window.loadingMain=new LoadingMain,window.carousel=new Carousel,window.helper=new Helper,window.menuToggle=new MenuToggle,window.addEventListener("load",window.carousel.init(),window.menuToggle.init(),window.loadingMain.hide(),{once:!0});